"use strict";(self["webpackChunkvue_tutorial"]=self["webpackChunkvue_tutorial"]||[]).push([[789],{1715:function(e,t,a){a.d(t,{U:function(){return i},_:function(){return r}});var n=a(9709);const i=()=>n.Z.get("/apartments"),r=e=>n.Z.get(`/apartments/${e}`)},7691:function(e,t,a){a.d(t,{A:function(){return r},M:function(){return i}});var n=a(9709);const i=e=>n.Z.post("/orders",e),r=()=>n.Z.get("/orders")},5166:function(e,t,a){a.d(t,{Z:function(){return f}});var n=a(3396),i=a(7139);const r=["type","disabled"];function s(e,t,a,s,o,c){const u=(0,n.up)("Loader");return(0,n.wg)(),(0,n.iD)("button",{type:a.type,disabled:a.loading,class:(0,i.C_)({btn:!0,"btn--outlined":a.outlined})},[a.loading?((0,n.wg)(),(0,n.j4)(u,{key:0,width:"38",height:"38",class:"btn__loader"})):(0,n.kq)("",!0),(0,n._)("span",{class:(0,i.C_)(["btn__content",c.contentStyle])},[(0,n.WI)(e.$slots,"default",{},void 0,!0)],2)],10,r)}const o=e=>((0,n.dD)("data-v-68554799"),e=e(),(0,n.Cn)(),e),c={class:"circle-loader"},u=["width","height"],l=o((()=>(0,n._)("circle",{cx:"50",cy:"50",r:"40","stroke-width":"5",fill:"none"},null,-1))),d=[l];function p(e,t,a,r,s,o){return(0,n.wg)(),(0,n.iD)("span",c,[((0,n.wg)(),(0,n.iD)("svg",{class:"preloader-icon",viewBox:"0 0 100 100",width:a.width,height:a.height,style:(0,i.j5)(o.style)},d,12,u))])}var m={name:"Laoder",props:{width:{type:[Number,String],default:50},height:{type:[Number,String],default:50},color:{type:String,default:"#fff"}},computed:{style(){return`stroke: ${this.color};`}}},g=a(89);const w=(0,g.Z)(m,[["render",p],["__scopeId","data-v-68554799"]]);var v=w,_={name:"Button",components:{Loader:v},props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{contentStyle(){return{"btn__content--hidden":this.loading}}}};const h=(0,g.Z)(_,[["render",s],["__scopeId","data-v-0fea5318"]]);var f=h},6934:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(3396);const i={class:"section-spacer"};function r(e,t,a,r,s,o){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var s={name:"SectionHeaderSpacer"},o=a(89);const c=(0,o.Z)(s,[["render",r],["__scopeId","data-v-fca65826"]]);var u=c},5046:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(3396),i=a(7139);const r={class:"star-rating"};function s(e,t,a,s,o,c){return(0,n.wg)(),(0,n.iD)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.starLimit,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"star star--outline",key:e})))),128)),(0,n._)("div",{class:"star-rating__colored",style:(0,i.j5)(c.ratingWidthStyle)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.starLimit,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"star star--colored",key:e})))),128))],4)])}var o={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWidthStyle(){return`width: ${this.ratingWidth}%;`}}},c=a(89);const u=(0,c.Z)(o,[["render",s],["__scopeId","data-v-0430e8df"]]);var l=u},8789:function(e,t,a){a.r(t),a.d(t,{default:function(){return ve}});var n=a(3396);const i={class:"apartment-page"},r={key:0,class:"apartment-page__content"},s={class:"apartment-page__additional-info"};function o(e,t,a,o,c,u){const l=(0,n.up)("ApartmentsMainInfo"),d=(0,n.up)("ApartmentsOwner"),p=(0,n.up)("Reviews"),m=(0,n.up)("Container"),g=(0,n.up)("SectionHeaderSpacer");return(0,n.wg)(),(0,n.iD)("main",i,[(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[c.apartment?((0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(l,{apartment:c.apartment},null,8,["apartment"]),(0,n._)("div",s,[(0,n.Wm)(d,{class:"apartment-page__owner",owner:c.apartment.owner},null,8,["owner"]),(0,n.Wm)(p,{reviews:u.reviewsList},null,8,["reviews"])])])):(0,n.kq)("",!0)])),_:1})])),_:1})])}var c=a(2936),u=a(7139);const l={class:"apartment-main-info"},d={class:"apartment-main-info__heading"},p={class:"apartment-main-info__title"},m=["src"],g={class:"apartment-main-info__description"},w={class:"apartment-main-info__btn"};function v(e,t,a,i,r,s){const o=(0,n.up)("Rating"),c=(0,n.up)("Button");return(0,n.wg)(),(0,n.iD)("article",l,[(0,n._)("div",d,[(0,n._)("h1",p,(0,u.zw)(a.apartment.title),1),(0,n.Wm)(o,{rating:a.apartment.rating},null,8,["rating"])]),(0,n._)("img",{src:a.apartment.imgUrl,alt:"",class:"apartment-main-info__img"},null,8,m),(0,n._)("p",g,(0,u.zw)(a.apartment.descr),1),(0,n._)("div",w,[(0,n.Wm)(c,{onClick:s.handleApatrmentBookung,loading:r.isLoading},{default:(0,n.w5)((()=>[(0,n.Uk)("Забронювати")])),_:1},8,["onClick","loading"])])])}var _=a(5046),h=a(5166),f=a(7691),y={name:"ApartmentsMainInfo",components:{Rating:_.Z,Button:h.Z},props:{apartment:{type:Object,required:!0}},data(){return{isLoading:!1}},methods:{async handleApatrmentBookung(){const e={apartmentId:this.$route.params.id,date:Date.now()};try{this.isLoading=!0,await(0,f.M)(e),this.$notify({type:"success",title:"Замовлення добавлено"})}catch(t){this.$notify({type:"error",title:"Виникла помилка",text:t.message})}finally{this.isLoading=!1}}}},b=a(89);const L=(0,b.Z)(y,[["render",v],["__scopeId","data-v-1aeb92c8"]]);var R=L;const Z=e=>((0,n.dD)("data-v-3583d289"),e=e(),(0,n.Cn)(),e),D={class:"apartments-owner"},C=Z((()=>(0,n._)("h2",{class:"apartments-owner__title"},"Информация о владельце:",-1))),k={class:"apartments-owner__info"},q={class:"apartments-owner__info"},A={class:"apartments-owner__info"};function I(e,t,a,i,r,s){return(0,n.wg)(),(0,n.iD)("section",D,[C,(0,n._)("p",k,(0,u.zw)(a.owner.name),1),(0,n._)("p",q,"tel: "+(0,u.zw)(a.owner.phone),1),(0,n._)("p",A,"email: "+(0,u.zw)(a.owner.email),1)])}var S={name:"ApartmentsOwner",props:{owner:{type:Object,required:!0}}};const W=(0,b.Z)(S,[["render",I],["__scopeId","data-v-3583d289"]]);var x=W;const H=e=>((0,n.dD)("data-v-85193030"),e=e(),(0,n.Cn)(),e),z={class:"reviews"},B={class:"reviews__heading"},O=H((()=>(0,n._)("h2",{class:"reviews__title"},"Загальний рейтинг",-1))),$={class:"reviews__rating"};function M(e,t,a,i,r,s){const o=(0,n.up)("Rating"),c=(0,n.up)("ReviewsItem");return(0,n.wg)(),(0,n.iD)("section",z,[(0,n._)("div",B,[O,(0,n._)("div",$,[(0,n._)("span",null,(0,u.zw)(s.amountOfReviews)+" відкук(ів)",1),(0,n.Wm)(o,{rating:s.totalRating},null,8,["rating"])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.currentReviews,(e=>((0,n.wg)(),(0,n.j4)(c,{key:e.author,review:e},null,8,["review"])))),128)),(0,n._)("button",{onClick:t[0]||(t[0]=(...e)=>s.toggleReviews&&s.toggleReviews(...e)),class:"reviews__show-more"},(0,u.zw)(s.buttonText),1)])}const j={class:"reviews-item"},N={class:"reviews-item__content"};function F(e,t,a,i,r,s){const o=(0,n.up)("ReviewsHeading");return(0,n.wg)(),(0,n.iD)("section",j,[(0,n.Wm)(o,{rating:a.review.rating,author:a.review.author},null,8,["rating","author"]),(0,n._)("p",N,(0,u.zw)(a.review.content),1)])}const K={class:"reviews-heading"},U={class:"reviews-heading__content"},Y={class:"reviews-heading__author"};function J(e,t,a,i,r,s){const o=(0,n.up)("Avatar"),c=(0,n.up)("Rating");return(0,n.wg)(),(0,n.iD)("div",K,[(0,n.Wm)(o,{class:"reviews-heading__avatar"}),(0,n._)("div",U,[(0,n._)("span",Y,(0,u.zw)(a.author),1),(0,n.Wm)(c,{rating:a.rating},null,8,["rating"])])])}const T={width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P=(0,n._)("circle",{cx:"17",cy:"17",r:"17",fill:"white"},null,-1),E=(0,n._)("circle",{cx:"17",cy:"17",r:"16",fill:"white",stroke:"#FF662D","stroke-width":"2"},null,-1),G=(0,n._)("path",{fill:"#FF662D","fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.8053 28.8444L4.83307 28.8028C7.04004 25.4919 10.7338 23.5156 14.712 23.5156H19.2878C23.2661 23.5156 26.9599 25.4919 29.1669 28.8028L29.1946 28.8445C32.1687 25.783 34 21.6054 34 17C34 7.61115 26.3889 0 17 0C7.61115 0 0 7.61115 0 17C0 21.6053 1.83124 25.783 4.8053 28.8444ZM16.9999 7C12.9288 7 9.61713 10.3117 9.61713 14.3828C9.61713 18.4539 12.9288 21.7656 16.9999 21.7656C21.071 21.7656 24.3828 18.4539 24.3828 14.3828C24.3828 10.3117 21.071 7 16.9999 7Z"},null,-1),Q=[P,E,G];function V(e,t,a,i,r,s){return(0,n.wg)(),(0,n.iD)("svg",T,Q)}var X={name:"ReviewsAvatar"};const ee=(0,b.Z)(X,[["render",V]]);var te=ee,ae={name:"ReviewsHeading",components:{Rating:_.Z,Avatar:te},props:{author:{type:String,required:!0},rating:{type:Number,default:0}}};const ne=(0,b.Z)(ae,[["render",J],["__scopeId","data-v-ba680c20"]]);var ie=ne,re={name:"ReviewsItem",components:{ReviewsHeading:ie},props:{review:{type:Object,required:!0}}};const se=(0,b.Z)(re,[["render",F],["__scopeId","data-v-573a01e7"]]);var oe=se,ce={name:"Reviews",components:{ReviewsItem:oe,Rating:_.Z},props:{reviews:{type:Array,required:!0}},data(){return{reviewsLimit:2}},computed:{totalRating(){const e=this.reviews.reduce(((e,t)=>e+t.rating),0);return e/this.reviews.length},amountOfReviews(){return this.reviews.length},currentReviews(){return this.reviews.slice(0,this.reviewsLimit)},buttonText(){return this.reviewsLimit===this.reviews.length?"Звернути":"Читати ще..."}},methods:{toggleReviews(){this.reviewsLimit===this.reviews.length?this.reviewsLimit=2:this.reviewsLimit=this.reviews.length}}};const ue=(0,b.Z)(ce,[["render",M],["__scopeId","data-v-85193030"]]);var le=ue,de=JSON.parse('[{"author":"Alex","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":3.5},{"author":"Ron","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":4.5},{"author":"Marry","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":4.8},{"author":"John","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":2.8}]'),pe=a(1715),me=a(6934),ge={name:"ApartmentPage",components:{Container:c.Z,ApartmentsMainInfo:R,ApartmentsOwner:x,Reviews:le,SectionHeaderSpacer:me.Z},data(){return{apartment:null}},computed:{reviewsList(){return de}},async created(){try{const{id:e}=this.$route.params,{data:t}=await(0,pe._)(e);this.apartment=t}catch(e){console.log(e)}}};const we=(0,b.Z)(ge,[["render",o],["__scopeId","data-v-0f5f1892"]]);var ve=we}}]);
//# sourceMappingURL=789.f7356e10.js.map