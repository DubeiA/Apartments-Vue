"use strict";(self["webpackChunkvue_tutorial"]=self["webpackChunkvue_tutorial"]||[]).push([[324],{1715:function(t,e,r){r.d(e,{U:function(){return n},_:function(){return i}});var a=r(9709);const n=()=>a.Z.get("/apartments"),i=t=>a.Z.get(`/apartments/${t}`)},4034:function(t,e,r){r.d(e,{D6:function(){return i},F8:function(){return n},aO:function(){return s},q9:function(){return a}});const a=t=>({hasPassed:!!t,message:"Будь ласка заповніть це поле"}),n=t=>e=>({hasPassed:e.length<=t,message:"Ви перевищили ліміт"}),i=t=>({hasPassed:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(t),message:"Не вірний email"}),s=t=>({hasPassed:/^(?=.*[A-Za-z])(?=.*[\d])[a-zA-Z0-9]{7,256}$/.test(t),message:"Пароль повинен мати один символ , одну велику букву"})},5166:function(t,e,r){r.d(e,{Z:function(){return y}});var a=r(3396),n=r(7139);const i=["type","disabled"];function s(t,e,r,s,o,u){const l=(0,a.up)("Loader");return(0,a.wg)(),(0,a.iD)("button",{type:r.type,disabled:r.loading,class:(0,n.C_)({btn:!0,"btn--outlined":r.outlined})},[r.loading?((0,a.wg)(),(0,a.j4)(l,{key:0,width:"38",height:"38",class:"btn__loader"})):(0,a.kq)("",!0),(0,a._)("span",{class:(0,n.C_)(["btn__content",u.contentStyle])},[(0,a.WI)(t.$slots,"default",{},void 0,!0)],2)],10,i)}const o=t=>((0,a.dD)("data-v-68554799"),t=t(),(0,a.Cn)(),t),u={class:"circle-loader"},l=["width","height"],c=o((()=>(0,a._)("circle",{cx:"50",cy:"50",r:"40","stroke-width":"5",fill:"none"},null,-1))),d=[c];function p(t,e,r,i,s,o){return(0,a.wg)(),(0,a.iD)("span",u,[((0,a.wg)(),(0,a.iD)("svg",{class:"preloader-icon",viewBox:"0 0 100 100",width:r.width,height:r.height,style:(0,n.j5)(o.style)},d,12,l))])}var m={name:"Laoder",props:{width:{type:[Number,String],default:50},height:{type:[Number,String],default:50},color:{type:String,default:"#fff"}},computed:{style(){return`stroke: ${this.color};`}}},f=r(89);const g=(0,f.Z)(m,[["render",p],["__scopeId","data-v-68554799"]]);var h=g,v={name:"Button",components:{Loader:h},props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{contentStyle(){return{"btn__content--hidden":this.loading}}}};const _=(0,f.Z)(v,[["render",s],["__scopeId","data-v-0fea5318"]]);var y=_},7618:function(t,e,r){r.d(e,{Z:function(){return p}});var a=r(3396),n=r(9242),i=r(7139);const s={class:"wrapper-input"},o={key:0,class:"custom-input__error"};function u(t,e,r,u,l,c){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.wy)((0,a._)("input",(0,a.dG)({class:"custom-input",type:"text"},t.$attrs,{class:!l.isValid&&"custom-input--error","onUpdate:modelValue":e[0]||(e[0]=t=>l.inputValue=t)}),null,16),[[n.nr,l.inputValue]]),l.isValid?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",o,(0,i.zw)(l.error),1))])}var l={name:"CustomInput",inheritAttrs:!1,data(){return{isValid:!0,error:"",inputValue:this.value}},inject:{form:{default:null}},props:{errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]},value:{type:String,default:""}},watch:{inputValue(){this.validate(this.inputValue)}},mounted(){this.form&&this.form.registerInput(this)},beforeUnmount(){this.form&&this.form.unRegisterInput(this)},methods:{validate(){return this.isValid=this.rules.every((t=>{const{hasPassed:e,message:r}=t(this.value);return e||(this.error=r||this.errorMessage),e})),this.isValid},reset(){this.inputValue=""}}},c=r(89);const d=(0,c.Z)(l,[["render",u],["__scopeId","data-v-5cf3b56e"]]);var p=d},6934:function(t,e,r){r.d(e,{Z:function(){return l}});var a=r(3396);const n={class:"section-spacer"};function i(t,e,r,i,s,o){return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.WI)(t.$slots,"default",{},void 0,!0)])}var s={name:"SectionHeaderSpacer"},o=r(89);const u=(0,o.Z)(s,[["render",i],["__scopeId","data-v-fca65826"]]);var l=u},5046:function(t,e,r){r.d(e,{Z:function(){return c}});var a=r(3396),n=r(7139);const i={class:"star-rating"};function s(t,e,r,s,o,u){return(0,a.wg)(),(0,a.iD)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.starLimit,(t=>((0,a.wg)(),(0,a.iD)("span",{class:"star star--outline",key:t})))),128)),(0,a._)("div",{class:"star-rating__colored",style:(0,n.j5)(u.ratingWidthStyle)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.starLimit,(t=>((0,a.wg)(),(0,a.iD)("span",{class:"star star--colored",key:t})))),128))],4)])}var o={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWidthStyle(){return`width: ${this.ratingWidth}%;`}}},u=r(89);const l=(0,u.Z)(o,[["render",s],["__scopeId","data-v-0430e8df"]]);var c=l},8324:function(t,e,r){r.r(e),r.d(e,{default:function(){return M}});var a=r(3396);const n={class:"home-page"},i={key:0};function s(t,e,r,s,o,u){const l=(0,a.up)("ApartmentFilterForm"),c=(0,a.up)("Container"),d=(0,a.up)("ApartmentsItem"),p=(0,a.up)("ApartmentsList"),m=(0,a.up)("SectionHeaderSpacer");return(0,a.wg)(),(0,a.iD)("main",n,[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,{class:"apartment-filter",onSubmit:u.filter},null,8,["onSubmit"])])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[u.filteredApartments.length?((0,a.wg)(),(0,a.j4)(p,{key:1,items:u.filteredApartments},{apartment:(0,a.w5)((({apartment:t})=>[((0,a.wg)(),(0,a.j4)(d,{key:t.id,id:t.id,descr:t.descr,rating:t.rating,imgSrc:t.imgUrl,price:t.price},null,8,["id","descr","rating","imgSrc","price"]))])),_:1},8,["items"])):((0,a.wg)(),(0,a.iD)("p",i,"Нічого не знайдено"))])),_:1})])),_:1})])}const o={class:"apartments-list"};function u(t,e,r,n,i,s){const u=(0,a.up)("Container");return(0,a.wg)(),(0,a.j4)(u,null,{default:(0,a.w5)((()=>[(0,a.WI)(t.$slots,"title",{},void 0,!0),(0,a._)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.items,(e=>(0,a.WI)(t.$slots,"apartment",{apartment:e},void 0,!0))),256))])])),_:3})}var l=r(2936),c={name:"ApartmentsList",components:{Container:l.Z},props:{items:{type:Array,default:()=>[]}}},d=r(89);const p=(0,d.Z)(c,[["render",u],["__scopeId","data-v-6bc45fc3"]]);var m=p,f=r(7139);const g={class:"apartments-item"},h={class:"apartments-item__inner"},v=["src"],_={class:"apartments-item__content"},y={class:"apartments-item__description"},w={class:"apartments-item__rating"},b={class:"apartments-item__price"};function S(t,e,r,n,i,s){const o=(0,a.up)("StarRating"),u=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",h,[(0,a._)("img",{src:r.imgSrc,alt:"",class:"apartments-item__photo"},null,8,v),(0,a._)("div",_,[(0,a._)("p",y,(0,f.zw)(r.descr),1),(0,a._)("div",w,[(0,a.Wm)(o,{rating:r.rating},null,8,["rating"])]),(0,a._)("div",b,"UAH "+(0,f.zw)(r.price),1),(0,a.Wm)(u,{to:{name:"about",params:{id:r.id},query:{name:"Jonh"}},class:"apartments-item__link"},null,8,["to"])])])])}var I=r(5046),k={name:"ApartmentsItem",components:{StarRating:I.Z},props:{id:{type:String,required:!0},descr:{type:String,default:""},rating:{type:Number,default:0},price:{type:Number,required:!0},imgSrc:{type:String,default:""}},methods:{handleLinkClick(){console.log("click Facebook")}}};const Z=(0,d.Z)(k,[["render",S],["__scopeId","data-v-47c17eb2"]]);var D=Z,A=r(9242);function C(t,e,r,n,i,s){const o=(0,a.up)("CustomSelect"),u=(0,a.up)("CustomInput"),l=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("form",{class:"form",onSubmit:e[0]||(e[0]=(0,A.iM)(((...t)=>s.handleSubmit&&s.handleSubmit(...t)),["prevent"]))},[(0,a.Wm)(o,{items:s.cities,class:"form__select",value:i.city,onInput:s.updateCity},null,8,["items","value","onInput"]),(0,a.Wm)(u,{value:i.price,onInput:s.updatePrice,placeholder:"Ціна, від ","error-message":"Не може бути порожнім",rules:s.rules},null,8,["value","onInput","rules"]),(0,a.Wm)(l,{type:"submit",class:"form__submit"},{default:(0,a.w5)((()=>[(0,a.Uk)("Підбір житла")])),_:1})],32)}var W=r(7618);const z=["value","selected"];function $(t,e,r,n,i,s){return(0,a.wg)(),(0,a.iD)("select",(0,a.dG)(t.$attrs,{class:"custom-select"}),[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.formatedItems,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.value,value:t.value,selected:t.selected},(0,f.zw)(t.label),9,z)))),128))],16)}var L={name:"CustomSelect",inheritAttrs:!1,props:{items:{type:Array,required:!0}},computed:{formatedItems(){return this.items.map((t=>"object"===typeof t?t:{value:t,label:t}))}}};const V=(0,d.Z)(L,[["render",$],["__scopeId","data-v-a3232f7a"]]);var P=V,B=r(5166),F=r(4034),H={name:"ApartmentFilterForm",components:{CustomSelect:P,CustomInput:W.Z,Button:B.Z},data(){return{price:"",city:""}},computed:{rules(){return[F.q9,(0,F.F8)(10)]},cities(){return[{value:"",label:"Місто",selected:!0},"Kyiv","Odesa","Poltava","Dnipro","Lviv","Mariupol","Kharkiv","Kherson"]}},methods:{handleSubmit(){this.$emit("submit",{city:this.city,price:this.price})},updatePrice(t){this.price=t.target.value},updateCity(t){this.city=t.target.value}}};const j=(0,d.Z)(H,[["render",C],["__scopeId","data-v-5a7dfbf0"]]);var q=j,N=r(1715),K=r(6934),U={name:"HomePage",components:{ApartmentsList:m,ApartmentsItem:D,Container:l.Z,ApartmentFilterForm:q,SectionHeaderSpacer:K.Z},data(){return{text:"",apartments:[],filters:{city:"",price:0}}},computed:{filteredApartments(){return this.filterByCityName(this.filterByPrice(this.apartments))}},async created(){try{const{data:t}=await(0,N.U)();this.apartments=t}catch(t){console.log(t)}},methods:{filter({city:t,price:e}){void 0!==t&&(this.filters.city=t),void 0!==e&&(this.filters.price=e)},filterByCityName(t){return this.filters.city?t.filter((t=>t.location.city===this.filters.city)):t},filterByPrice(t){return this.filters.price?t.filter((t=>t.price>=this.filters.price)):t}}};const x=(0,d.Z)(U,[["render",s],["__scopeId","data-v-418f8e18"]]);var M=x}}]);
//# sourceMappingURL=324.9915cb00.js.map